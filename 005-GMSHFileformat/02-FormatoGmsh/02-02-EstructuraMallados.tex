\mode<article>
Los Archivos de definición de los mallados se guardan en 
archivos de texto plano con extensión 
\texttt{.msh}. Son un poco más 
complejos. Como se esquematiza en la Figura 
\ref{FiguraEstructuraMallados} puede separarse su estructura
en bloques. 
\begin{figure}
  \includeslide[width=\textwidth]{FrameEstructuraMallados}
  \caption{Esquema de la etructura en bloques del archivo
  de mallados\label{FiguraEstructuraMallados} }
\end{figure}

\subsubsection{Encabezado}

El encabezado del archivo de mallado indica la versión del 
interprete de mallados que gmsh debe usar. Tómelo como
una receta. 

\subsubsection{Definición de Matriz de Nodos}

Inmediatamente después del encabezado sigue el bloque de 
la definición de los nodos. Como se esquematiza en la 
Figura \ref{FiguraEncabezado} las etiquetas \texttt{\$Nodes} 
y \texttt{\$EndNodes} encierran la definición de los 
nodos. Primero debe indicarse el número de nodos 
presentes. Luego se definen los nodos con su índice y sus 
coordenadas cartesianas. Siempre se indican tres coordenadas. 

\begin{figure}
  \includeslide[width=\textwidth]{FrameEncabezado}
  \caption{ Esquema de los bloques de encabezado y de 
  definición de Nodos \label{FiguraEncabezado} }

\end{figure}

\subsubsection{Definición de Elementos}

Luego del bloque de nodos debe seguir el bloque de los 
elementos, que se delimita por las etiquetas 
\texttt{\$Elements} y \texttt{\$EndElements} como se 
esquematiza en la Figura \ref{FiguraDefinicionElementos}. En
primera instancia debe indicarse el número total de elementos 
a considerar. Debe notar que es posible tomar definiciones
de elementos de distintas naturalezas. De hecho, al guardar
un mallado cualquiera desde la interfaz de gmsh puede 
encontrarse que los puntos, líneas y demás elementos 
geométricos de menor jerarquía forman elementos en 
el archivo. Por esta razón se indica luego del numero de
elemento (columna 1) el \texttt{tipo} de elemento. La
codificación para el tipo de elemento puede encontrarse 
en el manual de gmsh. 

Luego del tipo de elemento, debe indicarse el número de 
etiquetas descriptivas que siguen. estas etiquetas indican
pertenencia  a elementos geométricos de mayor jerarquía 
(por ejemplo superficies). En los archivos
que han sido guardados en gmsh se guardan siempre dos 
etiquetas. 

Luego de las etiquetas sigue la matriz de conectividad para 
el elemento de la fila en tratamiento.

\begin{figure}
  \includeslide[width=\textwidth]{FrameDefinicionElementos}
  \caption{Esquema del contenido del bloque de elementos
  \label{FiguraDefinicionElementos} }
  
\end{figure}

\mode*
\begin{frame}<presentation>[label=FrameEstructuraMallados]
  \frametitle{Estructura de los Mallados}
  \hfill
  \includegraphics[height=0.8\textheight]{Figures/Figure-MSHBlocks.pdf}
\end{frame}

\begin{frame}<presentation>[label=FrameEncabezado]
  \frametitle{Encabezado del archivo de mallado}

  \fbox{
  \includegraphics[width=\textwidth, trim=0.5cm 3cm 1cm 2cm, clip ]{Figures/Figure-HeadNodes.pdf}
}

%    \column{0.5\textwidth}
      
%       \begin{columns}
% 	\column{0.2\textwidth}
% 	\begin{tikzpicture}[overlay]
% 	  \draw[blockbox] (0,1.0) rectangle (3,2) node[pos=0.5] { Encabezado };	
% 	  \draw[blockbox] (0,-0.5) rectangle (3,0.5) node[pos=0.5] { Nodos };	
%   %	\node at (4,1) {\verbatiminput{./Ejemplos/HeadAndNodes.msh}};
% 	\end{tikzpicture}
%       \column{0.4\textwidth}
% 	 \begin{codeblock}
% 	   \verbatiminput{./Ejemplos/HeadAndNodes.msh}
% 	 \end{codeblock}
% 	 \column{0.4\textwidth}
% 	 Inmediatamente despues del encabezado:
% 
% 	 \tikz[baseline, remember picture] \node (A) {Numero de Nodos};
% 
% 	 \tikz[baseline, remember picture] \node (B) {Nodos};
% 
% 
% 	 ¡ Chequear versión de mallado !
% 
%       \end{columns}
% 
%       \begin{tikzpicture}[remember picture, overlay]
% 	\path[->=latex, draw, thick] (A) -- ($(A) + ( -7.3,0.4 )$);
% 	\path[->=latex, draw, thick] (B) -- ($(B) + ( -5.3,0.4 )$);
%       \end{tikzpicture}
\end{frame}

%\begin{frame}<presentation>[label=FrameEncabezado]
%  \frametitle{Encabezado del archivo de mallado}
%  \includegraphics[width=\textwidth,page=8,
%  bb=0cm 0cm 28cm 16.5cm,clip]{./Libreoffice/GMSH_fileformat.pdf}
%\end{frame}

\begin{frame}<presentation>[label=FrameDefinicionElementos]
  \frametitle{Definición de Elementos}
  \includegraphics[width=\textwidth,page=9,
  bb=0cm 0cm 28cm 16.5cm,clip]{./Libreoffice/GMSH_fileformat.pdf}
\end{frame}

\mode<all>
