\subsubsection{Escritura Secuencial}

\mode<article>

Una estrategia para registar los datos en un archivo es 
escribir en el mísmo lína por línea, o en forma \emph{secuencial}.
Una vez abierto el archivo con permisos para escritura, 
se escriben los datos con el comando \textbf{fprintf}. 
El mismo acepta como argumentos el indicador de archivo, 
un \emph{string} de formato y la lista de variables 
que se guardan. El mecanismo se ilustra en la 
\autoref{FigIOEscribir}.

El string de formato suele usar caracteres especiales para indicar
la posición en la que la lista de variables debe 
imprimirse. No daremos detalle aquí, pero puede
buscar en los manuales el uso de los \emph{format 
identifiers, indicadores de formato}, ya que serán 
de suma utilidad. la correspondencia entre el 
indicador de formato y la variable que se escribe
es posicional, y en general para esribir un número 
real se usa el indicador \textbf{\%f} con algun 
indicador extra para la precisión. 
Observe la necesidad de imprimir los cambios de línea
o \emph{retornos de carro} para indicar los fines de línea. 

Los archivos siempre deben ser cerrados al terminar la operación 
de escritura o lectura. 

\begin{figure}
  \includeslide[width=\textwidth]{FrameIOEscribir}
  \caption{Algunos ejemplos de escritura secuencial con formato\label{FigIOEscribir}}
\end{figure}
\mode*

\begin{frame}<presentation>[label=FrameIOEscribir]
\frametitle{Escritura línea por línea}

\begin{columns}[T]
\column{0.6\textwidth}
\hfill \small \texttt{Escribir con formato de punto flotante.} 
\tikz\node  (A) at (-0.3,0) {};
\par

  \vspace{0.5cm}
\hfill \small \texttt{Escribir con retorno de carro.}
\tikz\node  (B) at (-0.3,0) {};
\par

  \vspace{0.5cm}
\hfill \small \texttt{Escribir con formato de punto flotante.}
\tikz\node  (C) at (-0.3,0) {};
\par

  \column{0.4\textwidth}
  \tikz[overlay]\node   (X) at (-0.1,-1.5) {};
  \tikz[overlay]\node   (Y) at (-0.1,-2.0) {};
  \tikz[overlay]\node   (Z) at (-0.1,-2.8) {};
\begin{codeblock}
  \verbatiminput{./CODEXAMPLES/frprintfs.m}
\end{codeblock}

\end{columns}


\begin{columns}[T]
\column{0.5\textwidth}
 \hfill \small Resultado\par
\column{0.5\textwidth}
\begin{codeblock}
\verbatiminput{./CODEXAMPLES/datasimple.dat}
\end{codeblock}
\end{columns}

\begin{tikzpicture}[overlay]
  \draw[->,>=latex,draw,thick] (A) -- (X) ;
  \draw[->,>=latex,draw,thick] (B) -- (Y) ;
  \draw[->,>=latex,draw,thick] (C) -- (Z) ;
\end{tikzpicture}

\end{frame}

\mode<all>

\subsubsection{Escritura y Lectura en Bloque}

\mode<article>
Otra paradigma puede consistir en escribir las variables como bloques de datos, por ejemplo escribir
toda una matriz en un archivo de una vez. 

\begin{figure}
  \includeslide[width=\textwidth]{FrameWriteBlock}
  \caption{\protect\label{FigWriteBlock} Escritura y lectura de archivos de listas o matrices}
\end{figure}

\mode*

\begin{frame}<presentation>[label=FrameWriteBlock]
  \frametitle{Escribir y leer en Bloque}

  \begin{columns}[t]
    \column{0.5\textwidth}
    \begin{codeblock}
      \verbatiminput{CODEXAMPLES/writeblock.m}
    \end{codeblock}
    \column{0.5\textwidth}

    \tiny

    \verbatiminput{CODEXAMPLES/table.dat}
  \end{columns}

\end{frame}

\mode<all>
